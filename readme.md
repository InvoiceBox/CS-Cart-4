# Описание платежного модуля ИнвойсБокс для CS-Cart 4.0+

Платёжный модуль для интеграции платёжной системы «ИнвойсБокс» и CMS CS-Cart 4.0. Реализована поддержка платёжного API. Протестировано на системе CS-Cart 4.6.2.

## Установка модуля

1. Скопируйте содержимое директорий app и design в корневую директорию проекта (замены файлов происходить не должно);

## Настройка модуля
1. Зайти в раздел "Модули", нажать кнопку "Просмотреть все доступные модули:" "Оплата";
1. Найти модуль Invoicebox и нажать кнопку "Установить";
1. Зайти в раздел Администрирование -> Способы оплаты, добавить новый метод оплаты с процессором invoicebox;
1. Заполнить настройки на вкладке "Общее";
1. Во вкладке "Настроить" необходимо заполнить поля:
    - "Идентификатор магазина"
    - "Региональный код магазина"
    - "Ключ безопасности магазина"
1. Нажмите на кнопку "Сохранить";

### Специфические настройки 

Тестовый режим - включите его для проведения тестовых платежей, при включении этого режима, вы пройдете все шаги в платежном терминале ИнвойсБокс, но деньги с вашей карты списаны не будут.

### Настройка панели ИнвойсБокс:

1. Для настройки панели управления ИнвойсБокс пройдите по url - https://login.invoicebox.ru/ ;
1. Авторизуйтесь и пройдите в раздел "Мои магазины". "Начало работы" -> "Настройки" -> "Мои магазины";
1. Пройдите по вкладку "Уведомления по протоколу" -> выберите "Тип уведомления" "Оплата/HTTP/Post (HTTP POST запрос с данными оплаты в переменных)"
1. В поле "URL уведомления" укажите:

    `<домен_сайта>/index.php?dispatch=payment_notification.notify?payment=invoicebox`

1. Сохраните изменения.